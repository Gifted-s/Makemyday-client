{"version":3,"sources":["Components/Dashboard/EditProfile.js"],"names":["EditProfile","props","state","name","phone","bankName","accountNumber","saving","window","scrollTo","e","preventDefault","this","setState","fetch","method","headers","body","JSON","stringify","email","then","response","json","resJson","catch","err","message","editResponse","editProfile","swal","onClick","close","style","backgroundColor","className","onSubmit","handleSubmit","bind","htmlFor","onChange","target","value","type","placeholder","price","disabled","color","width","height","Component"],"mappings":"4PAGqBA,E,YACjB,WAAYC,GAAO,IAAD,8BACd,4CAAMA,KACDC,MAAM,CACPC,KAAK,GACLC,MAAM,GACNC,SAAS,GACTC,cAAc,GACdC,QAAO,GAPG,E,iFAadC,OAAOC,SAAS,EAAG,K,2EAGLC,G,uFACdA,EAAEC,iBACFC,KAAKC,SAAS,CAACN,QAAO,I,EAMnBK,KAAKV,MAJRC,E,EAAAA,KACAC,E,EAAAA,MACAC,E,EAAAA,SACAC,E,EAAAA,c,SAE2BQ,MAAM,8CAA8C,CAC5EC,OAAO,OACPC,QAAQ,CACJ,eAAe,oBAEnBC,KAAMC,KAAKC,UAAU,CACpBhB,KAAOA,GAAQS,KAAKX,MAAME,KAC1BC,MAAQA,GAASQ,KAAKX,MAAMG,MAC5BgB,MAAOR,KAAKX,MAAMmB,MAClBf,SAAWA,GAAYO,KAAKX,MAAMI,SAClCC,cAAgBA,GAAiBM,KAAKX,MAAMK,kBAIhDe,KAAK,SAACC,GAAD,OAAYA,EAASC,SAC1BF,KAAK,SAAAG,GAAO,OAAIA,IAChBC,MAAM,SAAAC,GAAG,OAAIA,EAAIC,U,QAhBXC,E,UAmBFhB,KAAKX,MAAM4B,YAAYD,GACvBE,IAAK,kBAAmB,GAAI,WAC5BlB,KAAKC,SAAS,CAACN,QAAQ,K,oIAMrB,IAAD,OACL,OACI,yBAAKwB,QAAS,kBAAK,EAAK9B,MAAM+B,SAASC,MAAO,CAACC,gBAAgB,SAAUC,UAAU,sBAC/E,4CACA,0BAAMC,SAAWxB,KAAKyB,aAAaC,KAAK1B,OACxC,yBAAKuB,UAAU,cACL,2BAAOI,QAAQ,QAAf,gBACc3B,KAAKX,MAAME,MAEzB,2BAAQqC,SAAU,SAAC9B,GAAM,EAAKG,SAAS,CAACV,KAAKO,EAAE+B,OAAOC,SAGxDC,KAAK,OAAOR,UAAU,eAAeS,YAAY,yBAIzD,yBAAKT,UAAU,cACL,2BAAOI,QAAQ,QAAf,WACU3B,KAAKX,MAAMmB,OAErB,2BAAQoB,SAAU,SAAC9B,GAAM,EAAKG,SAAS,CAACgC,MAAMnC,EAAE+B,OAAOC,SAGzDC,KAAK,OAAOR,UAAU,eAAeS,YAAY,wBAAwBE,UAAQ,KAGzF,yBAAKX,UAAU,cACL,2BAAOI,QAAQ,QAAf,qBACsB3B,KAAKX,MAAMG,OAEjC,2BAAQoC,SAAU,SAAC9B,GAAM,EAAKG,SAAS,CAACT,MAAMM,EAAE+B,OAAOC,SAGzDC,KAAK,SAASR,UAAU,eAAeS,YAAY,4BAG3D,yBAAKT,UAAU,cACL,2BAAOI,QAAQ,QAAf,cACe3B,KAAKX,MAAMI,UAE1B,2BAAQmC,SAAU,SAAC9B,GAAM,EAAKG,SAAS,CAACR,SAASK,EAAE+B,OAAOC,SAG5DC,KAAK,OAAOR,UAAU,eAAeS,YAAY,0BAGzD,yBAAKT,UAAU,cACL,2BAAOI,QAAQ,QAAf,mBACoB3B,KAAKX,MAAMK,eAE/B,2BAAQkC,SAAU,SAAC9B,GAAM,EAAKG,SAAS,CAACP,cAAcI,EAAE+B,OAAOC,SAGjEC,KAAK,SAASR,UAAU,eAAeS,YAAY,+BAE3D,6BAEIhC,KAAKV,MAAMK,OAAO,4BAAQ4B,UAAU,oCAAoCQ,KAAK,SAASG,UAAQ,GAA5E,mBAA6F,kBAAC,IAAD,CAASb,MAAO,CAACc,MAAM,QAASC,MAAM,GAAIC,OAAO,OAAiB,4BAASd,UAAU,oCAAoCQ,KAAK,UAA5D,e,GA9G5JO","file":"static/js/4.84cb67d7.chunk.js","sourcesContent":["import React, { Component } from 'react'\r\nimport {Spinner} from 'reactstrap'\r\nimport swal from '@sweetalert/with-react'\r\nexport default class EditProfile extends Component {\r\n    constructor(props){\r\n        super(props);\r\n        this.state={\r\n            name:'',\r\n            phone:'',\r\n            bankName:'',\r\n            accountNumber:'',\r\n            saving:false\r\n\r\n\r\n        }\r\n    }\r\n    componentDidMount(){\r\n        window.scrollTo(0, 0)\r\n        \r\n      }\r\n   async handleSubmit(e){\r\n        e.preventDefault()\r\n        this.setState({saving:true})\r\n       const {\r\n        name ,\r\n        phone,\r\n        bankName,\r\n        accountNumber\r\n       } = this.state\r\n        const editResponse = await fetch(\"https://mmdapi.herokuapp.com/devapi/v1/edit\",{\r\n           method:'Post',\r\n           headers:{\r\n               'Content-type':'application/json'\r\n           },\r\n           body: JSON.stringify({\r\n            name : name || this.props.name ,\r\n            phone : phone || this.props.phone,\r\n            email: this.props.email,\r\n            bankName : bankName || this.props.bankName,\r\n            accountNumber : accountNumber || this.props.accountNumber\r\n           })\r\n\r\n       })\r\n       .then((response)=>response.json())\r\n       .then(resJson => resJson)\r\n       .catch(err => err.message)\r\n        if(editResponse){\r\n           \r\n            this.props.editProfile(editResponse)\r\n            swal('Pofile updatded', '', 'success')\r\n            this.setState({saving :false})\r\n        }\r\n        \r\n\r\n        \r\n    }\r\n    render() {\r\n        return (\r\n            <div onClick={()=> this.props.close()} style={{backgroundColor:'white'}} className=\"container schedule\">\r\n                <h3>Edit profile</h3>\r\n                <form onSubmit={ this.handleSubmit.bind(this)}>\r\n                <div className=\"form-group\">\r\n                          <label htmlFor=\"name\">\r\n                          Full name:   {this.props.name}\r\n                          </label>\r\n                          <input  onChange={(e)=> {this.setState({name:e.target.value})\r\n                          }\r\n                       \r\n                      } type=\"text\" className=\"form-control\" placeholder=\"Enter new name here\"/>\r\n                </div>\r\n\r\n\r\n                <div className=\"form-group\">\r\n                          <label htmlFor=\"name\">\r\n                           Email:  {this.props.email}\r\n                          </label>\r\n                          <input  onChange={(e)=> {this.setState({price:e.target.value})\r\n                          }\r\n                       \r\n                      } type=\"text\" className=\"form-control\" placeholder=\"You can't change this\" disabled/>\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                          <label htmlFor=\"name\">\r\n                             Phone number:+234 {this.props.phone}\r\n                          </label>\r\n                          <input  onChange={(e)=> {this.setState({phone:e.target.value})\r\n                          }\r\n                       \r\n                      } type=\"number\" className=\"form-control\" placeholder=\"Enter new phone number\" />\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                          <label htmlFor=\"name\">\r\n                             Bank name: {this.props.bankName}\r\n                          </label>\r\n                          <input  onChange={(e)=> {this.setState({bankName:e.target.value})\r\n                          }\r\n                       \r\n                      } type=\"text\" className=\"form-control\" placeholder=\"Enter bank name here\"/>\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                          <label htmlFor=\"name\">\r\n                             Account number: {this.props.accountNumber}\r\n                          </label>\r\n                          <input  onChange={(e)=> {this.setState({accountNumber:e.target.value})\r\n                          }\r\n                       \r\n                      } type=\"number\" className=\"form-control\" placeholder=\"Enter account number here\" />\r\n                </div>\r\n                <div>\r\n                {\r\n                    this.state.saving?<button className=\"btn btn-primary form-control my-2\" type=\"submit\" disabled>Please wait.... <Spinner style={{color:'white', width:20, height:20}}/></button> :<button  className=\"btn btn-primary form-control my-2\" type=\"submit\">Save</button>\r\n                }\r\n               \r\n                </div>\r\n                </form>\r\n                \r\n            </div>\r\n        )\r\n    }\r\n}\r\n"],"sourceRoot":""}